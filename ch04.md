# typescript-study

# 04 함수와 메서드

## 04-1 함수 선언문

자바스크립트에서 함수 선언문
```javascript
function 함수이름(매개변수1, 매개변수2[, ...]) {

}
```

타입스크립트에서 함수 선언문
매개변수와 함수 반환값에 다입 주석을 붙이는 형태

```typescript
function 함수이름(매개변수1: 타입1, 매개변수2: 타입2[,...]): 반환값 타입 {
}
```
```typescript
function add(a: number, b: number): number {
  return a + b;
}
```

### 매개변수와 인수, 인자
일반적으로 parameter는 매개변수라고 하고, argument는 인수 혹은 인자라고 함. 
- 매개변수는 함수 선언문에서 함수 이름 뒤 괄호 안에 선언하는 변수
- 인수는 함수를 호출할 때 전달하는 값
```typescript
// a,b는 매개변수
function add(a: number, b: number): number {
  return a + b;
}

let result = add(1, 2) //1, 2는 인수
```

## 매개변수와 반환값의 타입 주석 생략

변수와 마찬가지로 함수 선언문에서 매개변수와 반환값 타입 주석 생략 가능.
다마느 변수 때와 달리 함수의 매개변수 타입과 반환 타입을 생략하는 것은 바람직하지 못함. 타입이 생략되어 있으면 함수의 구현 의도를 알기 어렵고, 잘못 사용하기 쉬움.

## void 타입

값은 반환하지 않는 함수는 반환 타입이 void 임. void는 함수 반환 타입으로만 사용 가능.

```typescript
function printMe(name: string, age: number): void {
  console.log(`name: ${name}, age: ${age}`)
}
```

## 함수 시그니처

함수의 타입을 함수 시그니처(function signature)라고 함.

```typescript
(매개변수1 타입, 매개변수2타입[,...]) => 반환값 타입
```

```typescript
let printMe: (string, number) => void = function(name: string, age: number): void {}
```
()=> void 매개변수도 없고 반환값도 없는 함수 시그니처임.

## type 키워드로 타입 별칭 만들기

타입 별칭(type alias)

```typescript
type 새로운 타입 = 기존 타입
```

```typescript
type stringNumberFunc = (string, number) => void

let f: stringFunc = function(a: string, b: number): void {}
let g: stringFunc = function(c: string, d: number): void {}

```

## undefined 관련 주의 사항

다음은 undefined 타입을 고려하지 않은 예

```typescript
interface INameable {
  name: string
}

function getName(o: INameable) {return o.name}

let n = getName(undefined) // 오류 발생
console.log(n)
```

고려한 예

```typescript
interface INameable {
  name: string
}

function getName(o: INameable){
  return o != undefined ? o.name : 'unknown name'
}

let n = getName(undefined)
console.log(n)
console.log(getName({name: 'jack'}))
```

```typescript
interface IAgeable {
  age?: number
}
function getAge(o: IAgeable){
  return o != undefined && o.age ? o.age : 0
}

console.log(getAge(undefined))
console.log(getAge(null))
console.log(getAge({age: 32}))
```

## 선택적 매개변수(optional parameters)

```typescript
function fn(arg1: string, arg?: number): void {}
```

```typescript
function fn(arg1: string, arg?: number) {console.log(`arg: ${arg}`)}

fn('hello', 1)  // arg: 1
fn('hello')     // arg: undefined
```

선택적 매개변수가 있는 함수의 시그니처는 다음처럼

```typescript
type OptionalArgFunc = (string, number?) => void
```

## 04-2 함수 표현식

## 함수는 객체다

자바스크립트는 함수형 언어 '스킴(scheme)'과 프로토타입(prototype)기반으로 객체지향 언어 '셀프(self)'를 모델로 만들어짐.

- 자바스크립트는 객체지향 언어와 함수형 언어의 특징 모두 가짐.

- 자바스크립트에서 함수는 Function 클래스의 인스턴스(instance)임.
- 다음코드에서 add가 함수로서 동작
```javascript
let add = new Function('a', 'b', 'return a + b')
let result = add(1, 2)
console.log(result)
```

다음과 같은 형태로 구현 가능
```javascript
let add2 = function(a, b) { return a + b; } 
console.log(add2(1, 2))
```

이처럼 함수 선언문에서 함수 이름을 제외한 function(a, b) { return a + b; } 와 같은 코드를 **함수표현식(function expression)**이라 함.

## 일등 함수

프로그래밍 언어가 일등 함수(first-class function) 기능을 제공하면 '함수형 프로그래밍 언어(functional programming language)'라고 함.
자바스크립트와 타입스크립트는 일등 함수 기능이 있으므로 함수형 프로그래밍 언어임.
- 일등 함수 : 함수와 변수를 구분하지 않는다는 의미.

```typescript
let f = function(a, b) {return a + b}
f = function(a, b) {return a - b}
```

변수와 함수를 차별하지 않는다.

## 표현식

프로그래밍 언어세어 '표현식(expression)'이라는 용어는 리터럴(literal), 연산자(operator), 변수, 함수 호출(function call)등이 복합적으로 구성된 코드 형태를 의미.

- 표현식은 항상 컴퍼일러에 의해 계산법(evaluation)이 적용되어 어떤 값이 됨.

## 함수 표현식

```typescript
let f = function(a, b) {return a + b}
```

변수 f에 function(a, b) {return a + b}를 마치 값처럼 대입하는데, function(a, b) {return a + b} 부분을 함수 표현식이라고 함.

## 계산법

컴파일러는 표현식을 만나면 계산법(evalution)을 적용해 어떤 값을 만듬.

- 조급한 계산법(eager evaluation) : 1 + 2
- 느긋한 계산법(lazy evaluation) : function(a,b) {return a + b} a, b 값을 몰라 계산 보류.

## 함수 호출 연산자

어떤 변수가 함수 표현식을 담고 있다면, 변수 이름 뒤에 함수 호출 연산자(function call operator) **()**를 붙여서 호출 가능.

```javascript
let functionExpression = function(a, b) {return a + b}
let value = functionExpression(1, 2)
```

## 익명 함수

```typescript
let value = (function(a, b){return a+b;})(1, 2)
```

## const 키워드와 함수 표현식

함수 표현식을 담는 변수는 let보다 const 키워드로 선언하는 것이 바람직.
let은 함수 내용이 바뀔 수 있음.